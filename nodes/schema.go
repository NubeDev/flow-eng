package nodes

import (
	"errors"
	"fmt"
	"github.com/NubeDev/flow-eng/schemas"
)

func GetSchema(nodeName string) (interface{}, error) {
	s := &schemas.Schema{}
	var found bool
	for _, spec := range All() {
		if nodeName == spec.GetName() {
			s = spec.GetSchema()
			found = true
		}
	}

	if !found {
		return nil, errors.New(fmt.Sprintf("no node found by name: %s", nodeName))
	}
	return s, nil

}
